(this["webpackJsonpqueue-management"]=this["webpackJsonpqueue-management"]||[]).push([[15],{1302:function(e,t,s){"use strict";s.r(t);var a=s(6),i=s(63),n=s(33),r=s(64),c=s(65),l=s(0),o=s.n(l),m=(s(297),s(259),s(298),s(260),s(68)),d=s(44),u=s(217),b=s(411),h=s(534),p=s(22),j=s(21),f=s(233),v=s.n(f),x=s(81),O=s(102),g=s(3),N=function(e){var t=e.setSignUpForm,s=Object(d.c)((function(e){return e.Auth.user}));return Object(l.useEffect)((function(){s&&""==s.first_name&&""==s.last_name&&t(!0)}),[s]),Object(g.jsx)("div",{})},y=s(30),S=s.n(y),w=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).inputChangedHandler=function(e,t){var s=a.props.user?a.props.user.email:"",i=a.props.user?a.props.user.mobile:"";if("mobile"===e){if(a.setState({mobile:t.target.value}),i==t.target.value)return void a.setState({mobileExist:!1});Object(p.c)(j.a+"api/common/check-mobile-exist/",{email:t.target.value}).then((function(e){a.setState({mobileExist:!1}),a.setState({invalidMobile:!1})})).catch((function(e){400==e.response.status&&(a.setState({mobileExist:!0}),a.setState({invalidMobile:!1})),500==e.response.status&&a.setState({invalidMobile:!0})}))}else{if(s==t.target.value)return void a.setState({emailExist:!1});Object(p.c)(j.a+"api/common/check-email-exist/",{email:t.target.value}).then((function(e){a.setState({emailExist:!1})})).catch((function(e){a.setState({emailExist:!0})}))}},a.submitHandler=function(e,t){if(e.preventDefault(),a.state.signUpForm){var s=a.props.user.token;s&&S.a.post(j.a+"api/users/update-profile/",t,{headers:{Authorization:"JWT ".concat(s)}}).then((function(e){if(console.log(a.props.user),200==e.status){var t=e.data;Object(O.b)(t),a.props.history.push("/app/dashboard"),x.b.success("User Created Successfully.")}}))}else if(t.otp){var i=a.state.formValues;i.otp=t.otp,console.log(i),a.props.authPatient(i,a.props.history,a.setState)}else a.setState({formValues:t}),t.create=!0,a.sendOTP(t)},a.switchAuthModeHandler=function(){a.setState((function(e){return{isSignup:!e.isSignup}}))},a.setSignUpForm=function(e){a.setState({signUpForm:!0})},a.state={formValues:{first_name:"",email:"",mobile:"",password:"",otp:""},emailExist:!1,signUpForm:!1},a}return Object(n.a)(s,[{key:"componentDidUpdate",value:function(){}},{key:"sendOTP",value:function(e){var t=this;Object(p.c)(j.a+"api/common/auth-patient/",e).then((function(e){t.setState({showOtp:!0}),x.b.success("OTP Sent"),console.log(e.data)})).catch((function(e){t.setState({showOtp:!1}),x.b.error("Something Went Wrong")}))}},{key:"render",value:function(){var e,t=this;return e=1==this.state.signUpForm?"Sign Up":1==this.state.showOtp?"Verify OTP":"Get OTP",Object(g.jsxs)(o.a.Fragment,{children:[Object(g.jsxs)("section",{className:"position-relative",children:[Object(g.jsx)(v.a,{id:"particles-js",params:{particles:{number:{value:160,density:{enable:!0,value_area:800}},color:{value:"#1360ef"},shape:{type:"circle",stroke:{width:0,color:"#f94f15"},polygon:{nb_sides:5},image:{src:"img/github.svg",width:100,height:100}},opacity:{value:1,random:!0,anim:{enable:!0,speed:1,opacity_min:0,sync:!1}},size:{value:3,random:!0,anim:{enable:!1,speed:4,size_min:.3,sync:!1}},line_linked:{enable:!1,distance:150,color:"#ffffff",opacity:.4,width:1},move:{enable:!0,speed:1,direction:"none",random:!0,straight:!1,out_mode:"out",bounce:!1,attract:{enable:!1,rotateX:600,rotateY:600}}},interactivity:{detect_on:"canvas",events:{onhover:{enable:!0,mode:"bubble"},onclick:{enable:!0,mode:"repulse"},resize:!0},modes:{grab:{distance:400,line_linked:{opacity:1}},bubble:{distance:250,size:0,duration:2,opacity:0,speed:3},repulse:{distance:400,duration:.4},push:{particles_nb:4},remove:{particles_nb:2}}},retina_detect:!0}}),Object(g.jsx)("div",{className:"container",children:Object(g.jsx)("div",{className:"row  text-center",children:Object(g.jsx)("div",{className:"col",children:Object(g.jsx)("h1",{children:"Sign Up"})})})})]}),this.props.user&&"he",Object(g.jsx)("div",{className:"page-content",children:Object(g.jsx)("section",{className:"register",children:Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)("div",{className:"row justify-content-center text-center",children:Object(g.jsx)("div",{className:"col-lg-8 col-md-12",children:Object(g.jsxs)("div",{className:"mb-6",children:[" ",Object(g.jsx)("span",{className:"badge badge-primary-soft p-2",children:Object(g.jsx)("i",{className:"la la-exclamation ic-3x rotation"})}),Object(g.jsx)("h2",{className:"mt-3",children:"Welcome To MyMedbook"}),Object(g.jsx)("p",{className:"lead",children:"Enter Your Details..."})]})})}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-lg-8 col-md-10 ms-auto me-auto",children:Object(g.jsxs)("div",{className:"register-form text-center",children:[this.props.registerError&&Object(g.jsx)(b.a,{color:"danger",isOpen:!!this.props.registerError,children:Object(g.jsx)("div",{children:this.props.registerError})}),Object(g.jsxs)(u.AvForm,{onValidSubmit:this.submitHandler,model:this.state.formValues,children:[this.state.signUpForm&&Object(g.jsxs)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:[Object(g.jsx)("div",{className:"col-md-6",children:Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)(u.AvInput,{type:"text",name:"first_name",className:"form-control",placeholder:"First Name"})})}),Object(g.jsx)("div",{className:"col-md-6",children:Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)(u.AvInput,{type:"text",name:"last_name",className:"form-control",placeholder:"Last Name"})})}),Object(g.jsxs)("div",{className:"col-md-6",children:[Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)(u.AvInput,{type:"email",autoComplete:"off",name:"email",onChange:this.inputChangedHandler.bind(this,"email"),className:"form-control",validate:{email:!0},placeholder:"Email",required:!0})}),this.state.emailExist&&Object(g.jsx)("p",{className:"text-danger",children:"Email already exist"})]}),Object(g.jsx)("div",{className:"col-md-6",children:Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)(u.AvInput,{type:"password",minLength:"8",name:"password",className:"form-control",placeholder:"Password",required:!0,onChange:function(e){t.setState({formValues:Object(a.a)(Object(a.a)({},t.state.formValues),{},{password:e.target.value})})}}),Object(g.jsxs)(h.a,{children:[8-(this.state.formValues.password?this.state.formValues.password.length:0)," ","chars left"]})]})})]}),!this.state.showOtp&&!1===this.state.signUpForm&&Object(g.jsx)("div",{className:"row",style:{display:"flex",justifyContent:"center"},children:Object(g.jsxs)("div",{className:"col-md-6",children:[Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)(u.AvInput,{type:"number",name:"mobile",autoComplete:"off",onChange:this.inputChangedHandler.bind(this,"mobile"),className:"form-control",validate:{pattern:{value:/^\d{10}$/}},placeholder:"Mobile",required:!0}),Object(g.jsxs)(h.a,{children:[10-(this.state.mobile?this.state.mobile.length:0)," ","chars left"]})]}),this.state.mobileExist&&Object(g.jsx)("p",{className:"text-danger",children:"Mobile already exist"}),this.state.invalidMobile&&Object(g.jsx)("p",{className:"text-danger",children:"Invalid Value for Mobile No."})]})}),Object(g.jsx)(N,{setSignUpForm:this.setSignUpForm}),this.state.showOtp&&!1===this.state.signUpForm&&Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"col-md-12",children:[Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)(u.AvInput,{type:"number",name:"otp",className:"form-control",placeholder:"Please enter otp",required:!0})}),Object(g.jsx)("div",{className:"form-text mb-2",children:"Please enter the otp that you received your registered Mobile"})]})}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"col-md-12",children:Object(g.jsx)("input",{type:"submit",value:e,className:"btn btn-primary"})})})]})]})})})]})})})]})}}]),s}(l.Component);t.default=Object(d.b)((function(e){var t=e.Auth;return{user:t.user,loading:t.loading,registerError:t.registerError}}),{authPatient:m.a})(w)},259:function(e,t,s){"use strict";var a=s(6),i=(s(0),s(3));t.a=function(e){var t=null;switch(e.elementType){case"input":default:t=Object(i.jsx)("input",Object(a.a)(Object(a.a)({className:e.elementClassName},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(i.jsx)("textarea",Object(a.a)(Object(a.a)({className:e.elementClassName},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(i.jsxs)("select",{className:e.elementClassName,value:e.value,onChange:e.changed,children:[Object(i.jsx)("option",{value:!1,children:e.elementConfig.filterLabel}),e.elementConfig.options.map((function(t){return Object(i.jsx)("option",{value:t.id,children:t[e.elementConfig.optionKey]},t.id)}))]})}return Object(i.jsxs)("div",{className:e.className,children:[e.label&&Object(i.jsx)("label",{className:e.labelClassName,children:e.label}),t]})}},260:function(e,t,s){},297:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return n}));var a=s(6),i=function(e,t){return Object(a.a)(Object(a.a)({},e),t)},n=function(e,t){var s=!0;if(!t)return!0;if(t.required&&(s=""!==e.trim()&&s),t.minLength&&(s=e.length>=t.minLength&&s),t.maxLength&&(s=e.length<=t.maxLength&&s),t.isEmail){s=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&s}if(t.isNumeric){s=/^\d+$/.test(e)&&s}return s}},298:function(e,t,s){"use strict";s(0),s(3)}}]);
//# sourceMappingURL=15.afae5e2b.chunk.js.map